<!DOCTYPE html>
<html>

<head>
	<title>Accessing Nested Objects and Arrays</title>
</head>

<body>
	<script type="text/javascript">
		var ourStorage = {
			"desk": {
				"drawer": "stapler"
			},
			"cabinet": {
				"top drawer": {
					"folder1": "a file",
					"folder2": "secrets"
				},
				"bottom drawer": "soda"
			}
		};
		ourStorage.cabinet["top drawer"].folder2;  // "secrets"
		ourStorage.desk.drawer; // "stapler"

		//Nested Arrays
		var ourPets = [
			{
				animalType: "cat",
				names: [
					"Meowzer",
					"Fluffy",
					"Kit-Cat"
				]
			},
			{
				animalType: "dog",
				names: [
					"Spot",
					"Bowser",
					"Frankie"
				]
			}
		];
		ourPets[0].names[1]; // "Fluffy"
		ourPets[1].names[0]; // "Spot"

		//JSON 
		// Setup
		var collection = {
			2548: {
				albumTitle: 'Slippery When Wet',
				artist: 'Bon Jovi',
				tracks: ['Let It Rock', 'You Give Love a Bad Name']
			},
			2468: {
				albumTitle: '1999',
				artist: 'Prince',
				tracks: ['1999', 'Little Red Corvette']
			},
			1245: {
				artist: 'Robert Palmer',
				tracks: []
			},
			5439: {
				albumTitle: 'ABBA Gold'
			}
		};

		// Only change code below this line
		function updateRecords(object, id, prop, value) {
			let myID = object[id];
			let myProp = myID[prop];

			console.log(myID);
			console.log(myID[prop]);
			//console.log(object[id][prop]);

			if (value === "") {
				//If value is an empty string, delete the given prop property 
				delete object[id][prop];
			} else if (prop == "tracks") {
				//same as
				//object[id][prop] = object[id][prop] || [];
    			//object[id][prop].push(value);

				if (myProp === undefined) {
					// if the album doesn't have a tracks property,
					// create an empty array and add value to it.
					myID[prop] = new Array; //myProp is undefined here 
					myID[prop].push(value);
				} else {
					// update the value
					myProp.push(value);
				}
			} else {
				// prop is not tracks, just update the value to that (new) prop
				myID[prop] = value;
			}


			return object;
		}

		//console.log(updateRecords(collection, 5439, 'tracks', 'testarray'));
		//console.log(collection[5439]["tracks"]);
		//console.log(updateRecords(collection, 5439, "tracks", "Take a Chance on Me"));
		//console.log(updateRecords(collection, 2548, "artist", ""))

	</script>

</body>

</html>